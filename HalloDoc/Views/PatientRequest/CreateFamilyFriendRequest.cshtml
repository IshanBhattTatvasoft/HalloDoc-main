@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model FamilyRequestModel
@{
    ViewData["Title"] = "CreateFamilyFriendRequest";
}
@section Styles{
    <link href="~/css/create-patient-request.css" rel="stylesheet" type="text/css" />
    <link href="~/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
}

<div class="bg-light">
    <partial name="Toast" />
    <div id="main-page">
        <div style="height: 100px;background-color: white;" id="navigation">

            <img src="~/images/logo1.png" alt="" style="height: 80px;" class="ms-5">
            <div class="moon-flex">
                <button onclick="changeTheme()" class="change-theme">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-moon night-mode-icon" viewBox="0 0 16 16">
                        <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286" />
                    </svg>
                </button>
                <button onclick="changeTheme()" class="change-theme hide-icon">

                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-brightness-high night-mode-icon" viewBox="0 0 16 16">
                        <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708" />
                    </svg>
                </button>
            </div>
        </div>

        <div class="container mt-4 shadow-lg p-3 mb-4 bg-white rounded" id="main-container">
            <div>
                <a class="float-end text-info mx-auto mt-1" id="backdesign" asp-controller="Login" asp-action="SubmitRequestScreen" style="text-decoration: none;margin-right: 243px;border: 1px solid; border-radius: 7px; height: 40px;display: flex;align-items: center;justify-content: center;padding: 2px 2px 2px 1px;width: 49px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                         class="bi bi-chevron-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0" />
                    </svg>
                    Back
                </a>
            </div>

            <form method="post" asp-action="CreateFamilyFriendRequest" asp-controller="PatientRequest" enctype="multipart/form-data">
                <div class="row">
                    <div class="col mt-4 ps-0">
                        <p class="h5 text-muted fw-bold">
                            Family/Friend Information
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="FamilyFirstName">
                        <label for="floatingInput" class="ms-2 text-muted  ">Your First Name</label>
                        <span asp-validation-for="FamilyFirstName" class="text-danger"></span>
                    </div>
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="FamilyLastName">
                        <label for="floatingInput" class="ms-2 text-muted  ">Your Last Name</label>
                        <span asp-validation-for="FamilyLastName" class="text-danger"></span>
                    </div>
                </div>
                <div class="row">

                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="FamilyEmail">
                        <label for="floatingInput" class="ms-2 text-muted  ">Your Email</label>
                        <span asp-validation-for="FamilyEmail" class="text-danger"></span>
                    </div>
                    @*<div class="col-sm-6 mt-3 form-floating">
                    <input id="phone" class="form-control" type="text" name="phone" asp-for="FamilyPhoneNumber"/>
                    <span asp-validation-for="FamilyPhoneNumber" class="text-danger"></span>

                    </div>*@
                    <div class="form-floating mb-3 col-xl-6 col-lg-6 col-sm-12 col mt-4 col-12">
                        <input asp-for="FamilyPhoneNumber" id="phone" type="tel" class="form-control" />
                        <span asp-validation-for="FamilyPhoneNumber" class="text-danger"></span>
                    </div>
                </div>

                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="FamilyRelation">
                        <label for="floatingInput" class="ms-2 text-muted  ">Relation With Patient</label>
                        <span asp-validation-for="FamilyRelation" class="text-danger"></span>
                    </div>
                </div>

                <div class="row">
                    <div class="col mt-4">
                        <p class="h5 text-muted fw-bold">
                            Patient Information
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col mb-3">
                        <textarea class="form-control" id="firstTextArea"
                                  placeholder="Enter Brief Details Of Symptoms (Optional)" rows="4" asp-for="Symptoms"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="FirstName">
                        <label for="floatingInput" class="ms-2 text-muted  ">Your First Name</label>
                        <span asp-validation-for="FirstName" class="text-danger"></span>
                    </div>
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="LastName">
                        <label for="floatingInput" class="ms-2 text-muted  ">Your Last Name</label>
                        <span asp-validation-for="LastName" class="text-danger"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input id="startDate" class="form-control" type="date" placeholder="Date Of Birth" asp-for="DOB">
                        <label for="floatingInput" class="ms-2 text-muted  ">Date Of Birth</label>
                        <span asp-validation-for="DOB" class="text-danger"></span>
                    </div>
                </div>

                <div class="row">
                    <div class="col mt-4">
                        <p class="h5 text-muted fw-bold">
                            Patient Contact Information
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="Email">
                        <label for="floatingInput" class="ms-2 text-muted  ">Email</label>
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
                    <div class="form-floating col-xl-6 col-lg-6 col-sm-12 mt-3 col-12">
                        <input asp-for="PhoneNumber" id="phone1" type="tel" class="form-control" />
                        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                    </div>

                </div>

                <div class="row">
                    <div class="col mt-4">
                        <p class="h5 text-muted fw-bold">
                            Patient Location
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="Street">
                        <label for="floatingInput" class="ms-2 text-muted  ">Street</label>
                        <span asp-validation-for="Street" class="text-danger"></span>
                    </div>
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="City">
                        <label for="floatingInput" class="ms-2 text-muted  ">City</label>
                        <span asp-validation-for="City" class="text-danger"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="State">
                        <label for="floatingInput" class="ms-2 text-muted  ">State</label>
                        <span asp-validation-for="State" class="text-danger"></span>
                    </div>
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="Zipcode">
                        <label for="floatingInput" class="ms-2 text-muted  ">Zipcode</label>
                        <span asp-validation-for="Zipcode" class="text-danger"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="form-floating col-xl-6 col-lg-6 col-md-6 col-sm-12 mt-3">
                        <input type="text" class="form-control" placeholder="Your First Name" aria-label="First name" asp-for="Room">
                        <label for="floatingInput" class="ms-2 text-muted  ">Room # / Suite (Optional)</label>
                    </div>
                </div>

                <div class="row">
                    <div class="col mt-4">
                        <p class="h5 text-muted fw-bold">
                            (Optional) Upload Photo or Document
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="container py-3 col">

                        <div class="input-group custom-file-button">
                            <input type="file" class="form-control" id="inputGroupFile" asp-for="ImageContent">
                            <label class="input-group-text" style="background-color: cyan;" for="inputGroupFile">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-cloud-arrow-up" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708z" />
                                    <path d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z" />
                                </svg><span class=" d-none d-sm-flex">Upload</span>
                            </label>
                        </div>

                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <button type="button" class="btn btn-outline-info float-end mb-3">Cancel</button>
                        <button type="submit" class="btn btn-info float-end me-3 mb-3">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div id="myModal" class="modal fade">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body d-flex flex-column justify-content-center align-items-center mt-5">
                    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="#FFD43B" class="bi bi-exclamation-circle-fill mb-2 yellow-warning" viewBox="0 0 16 16" style="border: 2px solid #FFD43B;padding: 10px;border-radius: 50%;">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2" />
                    </svg>
                    @*<i class="fa-solid fa-circle-exclamation fa-2xl mb-4" style="color: #FFD43B ;"></i>*@
                    <h3>Information</h3>
                    <p>
                        When submitting the request, you must provide correct contact information for the patient or the
                        responsibly party. Failure to provide the correct email and phone number will delay service or
                        declined
                    </p>
                    <button type="button" class="btn btn-outline-primary ok-btn" data-bs-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        window.onload = function checkingTheme() {
            let themeCheck = localStorage.getItem('theme');
            if (themeCheck == null || themeCheck == 'light') {
                localStorage.setItem('theme', 'light');
                document.getElementById('main-page').style.backgroundColor = 'white';
                document.getElementById('main-container').style.backgroundColor = 'white';
                document.getElementById('navigation').style.backgroundColor = 'white';
                document.getElementById('heading-one').style.color = 'black';
                document.getElementById('heading-two').style.color = 'black';
                document.getElementById('heading-three').style.color = 'black';
                document.getElementById('heading-four').style.color = 'black';
                document.getElementsByClassName('change-theme')[1].classList.add('hide-icon');
                document.getElementsByClassName('change-theme')[0].classList.remove('hide-icon');
            }
            else {
                document.getElementById('main-page').style.backgroundColor = 'black';
                document.getElementById('main-container').style.backgroundColor = 'black';
                document.getElementById('navigation').style.backgroundColor = 'black';
                document.getElementById('heading-one').style.color = 'white';
                document.getElementById('heading-two').style.color = 'white';
                document.getElementById('heading-three').style.color = 'white';
                document.getElementById('heading-four').style.color = 'white';
                document.getElementsByClassName('change-theme')[0].classList.add('hide-icon');
                document.getElementsByClassName('change-theme')[1].classList.remove('hide-icon');
            }
        }

        function changeTheme() {
            let theme = localStorage.getItem('theme');
            if (theme == null || theme == 'light') {
                localStorage.setItem('theme', 'dark');
                console.log('theme changed to dark');
                document.getElementById('main-page').style.backgroundColor = 'black';
                document.getElementById('main-container').style.backgroundColor = 'black';
                document.getElementById('navigation').style.backgroundColor = 'black';
                document.getElementById('heading-one').style.color = 'white';
                document.getElementById('heading-two').style.color = 'white';
                document.getElementById('heading-three').style.color = 'white';
                document.getElementById('heading-four').style.color = 'white';
                document.getElementsByClassName('change-theme')[0].classList.add('hide-icon');
                document.getElementsByClassName('change-theme')[1].classList.remove('hide-icon');
            }
            else if (theme == 'dark') {
                localStorage.setItem('theme', 'light');
                console.log('theme changed to light');
                document.getElementById('main-page').style.backgroundColor = 'white';
                document.getElementById('main-container').style.backgroundColor = 'white';
                document.getElementById('navigation').style.backgroundColor = 'white';
                document.getElementById('heading-one').style.color = 'black';
                document.getElementById('heading-two').style.color = 'black';
                document.getElementById('heading-three').style.color = 'black';
                document.getElementById('heading-four').style.color = 'black';
                document.getElementsByClassName('change-theme')[1].classList.add('hide-icon');
                document.getElementsByClassName('change-theme')[0].classList.remove('hide-icon');
            }
        }

        $(document).ready(function () {
            $("#myModal").modal('show');
        });

        const phoneInputField = document.querySelector("#phone");
        const phoneInput = window.intlTelInput(phoneInputField, {
            innerHeight: 1,
            utilsScript:
                "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });

        const phoneInputField1 = document.querySelector("#phone1");
        const phoneInput1 = window.intlTelInput(phoneInputField1, {
            innerHeight: 1,
            utilsScript:
                "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });

        window.onload = function () {
            var today = new Date().toISOString().split('T')[0];
            document.getElementById("startDate").setAttribute('max', today);
        };
    </script>

    @section Scripts{
        @{
            <partial name="_ValidationScriptsPartial" />
        }
    }
</div>
